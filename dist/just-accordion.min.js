/*! For license information please see just-accordion.min.js.LICENSE.txt */
!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define("JustAccordion",[],o):"object"==typeof exports?exports.JustAccordion=o():t.JustAccordion=o()}(self,(()=>(()=>{"use strict";var t={d:(o,e)=>{for(var i in e)t.o(e,i)&&!t.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:e[i]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o)},o={};return(()=>{t.d(o,{default:()=>e});class e{#t=[];#o=null;#e={};constructor(t=null,o={}){try{this.el=e.getElement(t),this.#e=Object.assign(this.#e,o)}catch(t){return void console.error(t)}this.#i()}#i(){this.el.classList.contains("is-init")?console.error("Accordion already inited!"):(this.#n(),this.el.classList.add("is-init"),this.#s())}#r(t){if(!t)return;this.#c(t);const o=t.querySelector(".j-accordion-content"),e=Array.prototype.indexOf.call(this.#t,t);this.#e.isToggleMode&&(null!==this.#o&&this.#l(this.#t[this.#o]),this.#o=e),t.setAttribute("open",""),o.style.maxHeight=`${o.scrollHeight}px`,this.#p(t)}#l(t){if(!t)return;this.#h(t),this.#e.isToggleMode&&(this.#o=null);const o=t.querySelector(".j-accordion-content");o.style.maxHeight="0",o.addEventListener("transitionend",(()=>{t.removeAttribute("open"),this.#a(t)}),{once:!0})}#n(){this.el.classList.add("j-accordion"),this.#e.duration&&this.el.style.setProperty("--accordion-duration",this.#e.duration/1e3+"s"),this.el.querySelectorAll("details").forEach((t=>{t.classList.add("j-accordion-item"),this.#e.isToggleMode&&t.removeAttribute("open"),this.#t.push(t);for(const o of t.children)"SUMMARY"===o.tagName&&(o.classList.add("j-accordion-trigger"),o.addEventListener("click",this.#d)),"DIV"===o.tagName&&o.classList.add("j-accordion-content");t.hasAttribute("open")&&this.#r(t)})),this.#e.isToggleMode&&null!==this.#e.active&&this.#r(this.#t[this.#e.active])}#d=t=>{t.preventDefault();const o=t.currentTarget.closest("details");this.#e.onClick&&"function"==typeof this.#e.onClick&&this.#e.onClick(t.currentTarget,o,this),o.hasAttribute("open")?this.#l(o):this.#r(o)};#s(){this.#e.onInit&&"function"==typeof this.#e.onInit&&this.#e.onInit(this)}#c(t){this.#e.onOpen&&"function"==typeof this.#e.onOpen&&this.#e.onOpen(t,this)}#p(t){this.#e.onOpenComplete&&"function"==typeof this.#e.onOpenComplete&&this.#e.onOpenComplete(t,this)}#h(t){this.#e.onClose&&"function"==typeof this.#e.onClose&&this.#e.onClose(t,this)}#a(t){this.#e.onCloseComplete&&"function"==typeof this.#e.onCloseComplete&&this.#e.onCloseComplete(t,this)}static getElement(t){if(t instanceof Element||t instanceof Document)return t;if("string"==typeof t&&""!==t.trim()){const o=document.querySelector(t);if(o)return o;throw new Error(`No element found matching selector: ${t}`)}throw new Error("Invalid argument: Expected a selector (string) or HTML element.")}}})(),o.default})()));